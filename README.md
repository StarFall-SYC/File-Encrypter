# 通用文件加密工具

这是一个具有图形用户界面(GUI)和命令行界面(CLI)的桌面应用程序，旨在为用户提供简单易用的文件加密功能。该工具支持多种加密算法，适用于不同安全需求的用户，能够保护个人和商业文件的机密性。

## 功能特点

- 支持多种加密算法（对称加密、非对称加密和哈希算法）
  - AES (128/192/256位, CBC/CFB/CTR模式)
  - RSA (1024/2048/4096位)
  - ChaCha20-Poly1305
- 单个或批量文件加密/解密
- 文件夹递归处理
- 大文件分块处理
- 文件监控与自动处理
- 多线程并行批处理
- 密钥管理功能
- 现代美观的PyQt5用户界面
- 命令行界面支持
- 文件完整性校验
- 多语言支持（中文、英文）
- 多种主题（浅色、深色、蓝色、绿色、紫色）

## 安装要求

- Python 3.8 或更高版本
- 依赖库：具体见 `requirements.txt`

## 安装方法

1. 克隆或下载此项目到本地
2. 安装所需依赖：
   ```
   pip install -r requirements.txt
   ```
3. 运行主程序：
   ```
   python main.py
   ```

## 使用说明

### 图形界面使用

1. 启动应用后，选择需要进行的操作（加密或解密）
2. 选择或拖放文件/文件夹到应用窗口
3. 选择加密算法和设置选项
4. 点击执行按钮开始处理
5. 处理完成后，加密/解密文件将保存到指定位置

### 命令行界面使用

本工具支持完整的命令行操作，适合脚本化处理和自动化任务。

#### 加密文件

```bash
python main.py encrypt 文件路径 -o 输出路径 -k 密钥名称 -a 加密算法 -d
```

参数说明：
- `文件路径`：要加密的文件路径
- `-o, --output`：输出文件路径（可选，默认为原文件名加.enc后缀）
- `-k, --key`：使用的密钥名称（可选，如未指定将生成临时密钥）
- `-a, --algorithm`：使用的加密算法（可选，默认为AES-256-CBC）
- `-d, --delete`：加密后删除原文件（可选）

#### 解密文件

```bash
python main.py decrypt 文件路径 -o 输出路径 -k 密钥名称 -d
```

参数说明：
- `文件路径`：要解密的文件路径
- `-o, --output`：输出文件路径（可选，默认为原文件名去掉.enc后缀）
- `-k, --key`：使用的密钥名称（必需）
- `-d, --delete`：解密后删除加密文件（可选）

#### 密钥管理

```bash
# 生成新密钥
python main.py key generate 密钥名称 -a 加密算法 -p 密码

# 列出所有密钥
python main.py key list

# 删除密钥
python main.py key delete 密钥名称
```

参数说明：
- `密钥名称`：指定密钥的名称
- `-a, --algorithm`：加密算法（可选，默认为AES-256-CBC）
- `-p, --password`：密钥保护密码（可选）

#### 显示版本信息
```bash
python main.py --version
```

### 文件监控功能

1. 切换到"文件监控"选项卡
2. 点击"添加监控"按钮
3. 设置要监控的目录和文件过滤条件
4. 如需自动处理，勾选"自动处理新文件"并配置相关选项
5. 点击"确定"按钮开始监控
6. 系统将自动处理放入监控目录的新文件

### 批量处理

应用程序支持多线程并行处理多个文件，大大提高了处理大量文件的效率。文件处理速度取决于您的硬件配置。默认情况下，线程数等于系统CPU核心数的两倍，您可以在设置中进行调整。

## 密钥管理说明

### 密钥类型

1. **对称密钥**（如AES）：
   - 同一密钥用于加密和解密
   - 高效，适合大文件
   - 需要安全传输密钥

2. **非对称密钥**（如RSA）：
   - 使用公钥/私钥对
   - 公钥加密，私钥解密
   - 安全性高，但处理速度较慢
   - 适合小文件或密钥交换

### 密钥保护

所有密钥都可以使用密码进行加密保护，增加一层安全性。密码保护的密钥在使用时需要输入密码。

## 安全提示

- 请妥善保管您的密钥和密码
- 建议定期更换加密密钥
- 敏感文件加密后请考虑安全删除原始文件
- 对于高度敏感的数据，建议使用更强的加密算法和更长的密钥长度
- ChaCha20-Poly1305提供认证加密，可以检测数据是否被篡改

## 支持的算法详情

### 对称加密
- **AES-128/192/256-CBC**: 高安全性，需要初始化向量
- **AES-128/192/256-CFB**: 支持流加密，适合实时数据
- **AES-128/192/256-CTR**: 计数器模式，并行化好，高效
- **ChaCha20-Poly1305**: 高性能流加密，带认证标签

### 非对称加密
- **RSA-1024**: 基本安全性
- **RSA-2048**: 推荐安全级别
- **RSA-4096**: 高安全级别，但性能较低

## 项目结构

```
file_encrypter/
├── logs/               # 日志文件目录
├── src/                # 源代码目录
│   ├── cli/            # 命令行界面实现
│   ├── config/         # 配置管理
│   ├── crypto/         # 加密算法实现
│   ├── gui/            # 图形界面实现
│   ├── resources/      # 资源文件
│   │   └── translations/ # 多语言翻译文件
│   └── utils/          # 工具类
├── main.py             # 主程序入口
├── README.md           # 说明文档
└── requirements.txt    # 依赖库列表
```

## 常见问题

1. **为什么我无法加密大文件？**
   - 文件将被分块处理，理论上支持任意大小文件
   - 如果内存有限，可以在设置中调整缓冲区大小

2. **密钥文件存储在哪里？**
   - 所有密钥存储在用户主目录的`.file_encrypter/keys`文件夹下

3. **如何恢复丢失的密钥？**
   - 如果没有导出或备份密钥，加密的数据将无法恢复
   - 请定期导出重要密钥并安全保存

4. **程序支持哪些操作系统？**
   - Windows, macOS和Linux都受支持
   - 界面会根据系统主题自动调整

## 许可证

MIT

## 开发者

本项目由File Encrypter Team开发

版本：0.2.0 